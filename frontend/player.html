<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>YT Captioner Player</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f5f5f5;
      text-align: center;
    }
    iframe {
      width: 100%;
      max-width: 800px;
      height: 450px;
      border: none;
      margin-top: 20px;
    }
    #summary {
      margin-top: 20px;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
      white-space: pre-wrap; /* keeps line breaks */
      text-align: left;
    }
  </style>
</head>
<body>
  <h1>YT Captioner Player</h1>

  <!-- YouTube video -->
  <iframe id="ytPlayer" src="" allowfullscreen></iframe>

  <!-- Summary -->
  <div id="summary"></div>

  <script>
    // Retrieve data from localStorage
    const summary = localStorage.getItem("summary");
    const videoId = localStorage.getItem("videoId");

    if (!videoId) {
      document.getElementById("ytPlayer").style.display = "none";
      document.getElementById("summary").textContent = "No video selected.";
    } else {
      // Set YouTube iframe
      document.getElementById("ytPlayer").src = `https://www.youtube.com/embed/${videoId}`;
      // Display summary
      document.getElementById("summary").textContent = summary || "No summary available.";
    }

    // Optional: clear localStorage after loading to avoid stale data
    // localStorage.removeItem("summary");
    // localStorage.removeItem("videoId");
  </script>
</body>
</html>